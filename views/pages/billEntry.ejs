<!DOCTYPE html>
<html lang="en">

    <head>
        <%- include('../partials/header2'); %> 
        <style>
          body {
            background-color: #e0ffa7;
          }
          .h1{
            text-align: center;
          }
          .col-sm-8{
            align-items: center;
            margin-left: auto;
            margin-right: auto;
          }
          .form-group{
            margin-top: 4px;
          }
          .card {
            position: relative;
            display: flex;
            flex-direction: column;
            min-width: 0;
            word-wrap: break-word;
            background-color: #fff;
            background-clip: border-box;
            border: 1 solid transparent;
            border-radius: .35rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 6px 0 rgb(218 218 253 / 65%), 0 2px 6px 0 rgb(206 206 238 / 54%);
        }
        </style>
    </head>
    
<body>
   
     <div class="container mt-5">
      <div class="card">       
        <div class="card-body">
          <h3 class="mb-4 text-center"><%=shopname%></h3>
        <form action="/billEntry" method="post">

       
        <div class="row">
           <div class="col">
            <h6 class="mb-0">Bill Book Number</h6><span><input type="number" class="form-control" required="required" name ="billBookNumber"></span>
           </div>
           <div class="col">
            <h6 class="mb-0">Bill Number</h6><span><input type="number" class="form-control" required="required" name ="billNumber"></span>
           </div>
        </div>
        

        <div class="row">
          <div class="col col-lg-6 col-12">
            <div class="form-group">
              <label for="customer_name">Customer Name</label>
              <input type="text" class="form-control" required="required" name="customerName">
            </div>
          </div>

          <div class="col col-lg-6 col-12">
            <div class="form-group">
              <label for="customer_name">Customer Contact</label>
              <input type="number" class="form-control" required="required" name="customerContact">
            </div>
          </div>
       </div>
   
       <div class="row">
         <h6 class="mt-4">List Of Products <span><i class="fa-solid fa-circle-plus mx-2" type="button" onclick="newProductFunc()" style="color: blue;" id="btnAdd"></i></span></h6>  
        <div class="row"  id="productRow">

          <div class="col col-lg-3 col-6">
            <div class="form-group">
              <label for="customer_name">Chemical Name</label>
              <input type="text" class="form-control" required="required" name="chemicalName">
            </div>
          </div>
  
          <div class="col col-lg-3 col-6">
            <div class="form-group">
              <label for="customer_name">Company Name</label>
              <input type="text" class="form-control" required="required" name="companyName">
            </div>
          </div>
  
          <div class="col col-lg-2 col-2">
            <div class="form-group">
              <label for="customer_name">Type of Item</label><br>
              <!-- <input type="select" class="form-control" name="quantity"> -->
              <select class="btn btn-sm btn-secondary mt-1" name="productType" id="cars">
                <option value="Seeds">Seeds</option>
                <option value="Herbicides">Herbicides</option>
                <option value="Weedicides">Weedicides</option>
                <option value="Rodenticides">Rodenticides</option>
                <option value="Insecticides">Insecticides</option>
                <option value="Fungicides">Fungicides</option>
                <option value="SyntheticFertilizer">Synthetic Fertilizer</option>
                <option value="GrowthRegulators">Growth Regulators</option>
                <option value="BioFertilizers">Bio Fertilizers</option>
                <option value="BioPesticides">Bio Pesticides</option>
              </select>
            </div>
          </div>

          <div class="col col-lg-1 col-3">
            <div class="form-group">
              <label for="customer_name">Quantity</label>
              <input type="number" class="form-control" required="required" name="quantity">
            </div>
          </div>
  
          <div class="col col-lg-1 col-3">
            <div class="form-group">
              <label for="customer_name">Price</label>
              <input type="text" class="form-control" required="required" name="price">
            </div>
          </div>
  
          <div class="col col-lg-2 col-4">
            <div class="form-group">
              <label for="customer_name">Sub Total</label>
              <input type="number" class="form-control" required="required" name="subTotal">
            </div>
          </div>

        </div>
      <!-- <hr class="mt-4"> -->
        <div class="row">

          <div class="col col-lg-3 col-6">
            <div class="form-group">
              <label for="customer_name">Chemical Name</label>
              <input type="text" class="form-control" required="required" name="chemicalName">
            </div>
          </div>
  
          <div class="col col-lg-3 col-6">
            <div class="form-group">
              <label for="customer_name">Company Name</label>
              <input type="text" class="form-control" required="required" name="companyName">
            </div>
          </div>
  
          <div class="col col-lg-2 col-2">
            <div class="form-group">
              <label for="customer_name">Type of Item</label><br>
              <!-- <input type="select" class="form-control" name="quantity"> -->
              <select class="btn btn-sm btn-secondary mt-1" name="productType" id="cars">
                <option value="Seeds">Seeds</option>
                <option value="Herbicides">Herbicides</option>
                <option value="Weedicides">Weedicides</option>
                <option value="Rodenticides">Rodenticides</option>
                <option value="Insecticides">Insecticides</option>
                <option value="Fungicides">Fungicides</option>
                <option value="SyntheticFertilizer">Synthetic Fertilizer</option>
                <option value="GrowthRegulators">Growth Regulators</option>
                <option value="BioFertilizers">Bio Fertilizers</option>
                <option value="BioPesticides">Bio Pesticides</option>
              </select>
            </div>
          </div>

          <div class="col col-lg-1 col-3">
            <div class="form-group">
              <label for="customer_name">Quantity</label>
              <input type="number" class="form-control" required="required" name="quantity">
            </div>
          </div>
  
          <div class="col col-lg-1 col-3">
            <div class="form-group">
              <label for="customer_name">Price</label>
              <input type="text" class="form-control" required="required" name="price">
            </div>
          </div>
  
          <div class="col col-lg-2 col-4">
            <div class="form-group">
              <label for="customer_name">Sub Total</label>
              <input type="number" class="form-control" required="required" name="subTotal">
            </div>
          </div>

        </div>

      </div>

      <div class="row mt-2">
         <div class="col">
          <div class="form-group">
            <label for="customer_name">Invoice Date</label>
            <input type="date" class="form-control" required="required" name="invoiceDate">
         </div>
         </div>
         <div class="col">
          <div class="form-group">
            <label for="customer_name"><strong>Total Amount</strong></label>
            <input type="number" class="form-control" required="required" name="totalAmount">
         </div>
         </div>
      </div>



      <div class="row mt-3">
        <div class="col text-center">
           <button class="btn btn-dark" type="submit">Submit Bill</button>
        </div>
        <!-- <div class="col text-center">
           <button class="btn btn-dark">Clear Bill</button>
       </div>
       <div class="col text-center">
          <button class="btn btn-dark">Another Bill</button>
       </div> -->
      </div>
  

       </form>

      </div>
      </div>
   </div>

   <div class="container">
      <div class="row mt-4">
           <div class="col col-lg-2 col-4">
              
           </div>
           <div class="col col-lg-2 col-4">
              
          </div>
          <div class="col col-lg-2 col-4">
              
          </div>

           <div class="col col-lg-2 col-4">
               <button class="btn btn-primary">This Month<i class="fa-solid fa-filter mx-1"></i></button>
           </div>
           <div class="col col-lg-2 col-4">
               <button class="btn btn-dark">Last Month<i class="fa-solid fa-filter mx-1"></i></button>
           </div>
           <div class="col col-lg-2 col-4">
               <button class="btn btn-dark">30 Days<i class="fa-solid fa-filter-circle-dollar mx-1"></i></button>
           </div>

      </div>
   </div>

   <div class="container mt-2">
        <div class="table-responsive">
          <table class="table table-striped table-light">
            <thead class="bg-dark">
              <tr>
                <th scope="col">Bill No.<i class="fa-solid fa-sort mx-1"></i></th>
                <th scope="col">Customer Name</th>
                <th scope="col">Date<i class="fa-solid fa-arrow-up-1-9 mx-1"></i></th>
                <th scope="col">Amount<i class="fa-solid fa-filter-circle-dollar mx-1"></i></th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody id="tableBody">
                <% for(let i=0; i<allBills.length; i++){ %>
                  <tr>
                      <% let day = allBills[i].invoiceDate.getDate(); %>
                      <% let month = allBills[i].invoiceDate.getMonth(); %>
                      <% let year = allBills[i].invoiceDate.getFullYear(); %>
                      <th scope="col"><%=allBills[i].billNumber%></th>
                      <th scope="col"><%=allBills[i].customerName%></th>
                      <th scope="col"><%=day +"/"+ month+"/"+year%></th>
                      <th scope="col"><%=allBills[i].totalAmount%></th>
                      <th scope="col"><a href="/completeBill" class="btn btn-dark btn-sm" value="<%=allBills[i]._id%>">View Bill</a></th>
                  </tr>
               <% } %>
            </tbody>
         </table>
        </div>
   </div>
    
</body>
</html>
